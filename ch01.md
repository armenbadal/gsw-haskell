# Օր առաջին

Այս կիրակի ես վերջապես որոշեցի սկսել ծանոթությունը [Haskell](https://www.haskell.org/) լեզվի հետ։ Haskel-ը _ֆունկցիանալ_ լեզու է. երբեմն ասում են, որ այն ֆունկցիոնալների մեջ ամենաֆունկցիոնալն է։ Ես, ինչ-որ տարրական պատկերացում ունենալով _ֆունկցիոնալ ծրագրավորման_ մասին, ինձ համար սահմանեցի հետևյալ առաջին խնդիրը.

_Ֆակտորիալ։_ Գրել ծրագիր, որ հրամանային տողից ստանում է որևէ դրական ամբողջ թիվ, ապա հաշվարկում և արտածում է այդ թվի ֆակտորիալը։

Բայց, մինչև խնդրի լուծմանն անցնելը, ես պիտի պատրաստեմ Haskell լեզվի միջավայրը, որում աշխատեցնելու եմ իմ գրած ծրագրերը։ Կարելի է, իհարկե, օգտագործել որևէ առցանց ծառայություն, ինչպիսիք են, օրինակ, [www.tutorialspoint.com](https://www.tutorialspoint.com/compile_haskell_online.php)-ը կամ [https://repl.it](https://repl.it/languages/haskell)-ը, բայց ես նախընտրում եմ ամեն ինչ ունենալ ձեռքի տակ՝ իմ մեքենայի վրա։

Իսկ իմ մեքենան _Raspberry Pi_ է` Debian-ի հիման վրա կառուցված օպերացիոն համակարգով։ _Haskell Platform_-ի [էջից](https://www.haskell.org/platform/linux.html#linux-debian) գտա, թե ինչպես է պետք տեղադրել Haskell-ի կոմպիլյատորն ու ինտերպրետատորը.

```bash
$ sudo apt-get install haskell-platform
```

Haskel Platform-ի կոմպիլյատորի և ինտերպրետատորի հաջող տեղադրված լինելը ստուգելու համար նախ հրամանային տողից աշխատեցեմ `ghci` ինտերպրետատորը.

```bash
$ ghci
GHCi, version 8.4.4: http://www.haskell.org/ghc/  :? for help
Prelude>
```

Հրավերքի տողում `Prelude` ցույց է տալիս, որ ինտերպրետատորը գործարկվել է և ակտիվ է _Prelude_ փաթեթը։ Խնդրեմ Հասկելին ցույց տալ π թվի արժեքը.

```bash
Prelude> pi
3.141592653589793
```

Կարծես թե աշխատում է։ Փորձեմ հենց այստեղ սահմանել ֆակտորիալը հաշվող ֆունկցիան՝ ամենապարզ մոտեցմամբ.

```
Prelude> factorial n = if n == 1 then 1 else n * factorial (n - 1)
```

Մի քանի օրինակներով համոզվեմ, որ սահմանած ֆունկցիան աշխատում է.

```
Prelude> factorial 1
1
Prelude> factorial 5
120
Prelude> factorial 10
3628800
Prelude> factorial 100
93326215443944152681699238856266700490715968264381621468592963895217599993229915608941463976156518286253697920827223758251185210916864000000000000000000000000
```

Վերադառնալով իմ սկզբնական խնդրին՝ ինձ համար պիտի պարզեմ, թե ինչպե՛ս... տրված թվի համար հաշվել ֆակտորիալը։ Այսինքն՝ `n`-ի ֆակտորիալը հաշվել գիտեմ. դա `1`-ից `n` ամբողջ թվերի արտադրյալն է։ Բայց ինչպե՞ս դա գրել _Հասկե՛լ_ լեզվով։ Իմ կարծիքով, `if` կառուցվածքի օգտագործմամբ վերը գրված ֆունկցիան այնքան էլ «հասկելական» չէ։ Այդպես կարելի է գրել ցանկացած այլ լեզվով։

Պարզվում է, որ հենց այդպես էլ պիտի գրել։ Օրինակ, եթե `12`-ի ֆակտորիալը կարելի է ստանալ `product [1 .. 12]` արտահայտությամբ։ Այստեղ `[1 .. 12]` արտահայտությունը «ծնում» է `1`-ից `12`-ը ներառյալ թվերի ցուցակը, իսկ `product` ֆունկցիան հաշվում է ցուցակի թվերի արտադրյալը։ `n` թվի ֆակտորիալը հաշվող ֆունկցիան սահմանելու համար պետք է գրել.

```Haskell
factorial :: Int -> Integer
factorial n = product [1 .. n]
```

Առաջին տողում սահմանված է ֆունկցիայի տիպը. `::` սիմվոլից ձախ գրված է ֆունկցիայի անունը՝ `factorial`, իսկ աջ կողմում՝ արգումենտի ու վերադարձվող արժեքի տիպերը։ Այսինքն՝ ֆունկցիան ստանում է `Int` տիպի արգումենտ և վերադարձնում է `Integer` տիպի արժեք։ Երկրորդ տողում հենց ֆունկցիայի սահմանումն է. `=` սիմվոլից ձախ ֆունկցիայի անունն ու արգումենտն է, իսկ աջ կողմում՝ մարմինը, որը տվյալ դեպքում պարզ արտահայտություն է։




Հասկել ծրագրում սահմանել _մուտքի կետ_, որտեղից սկսվելու է կատարումը (Սի լեզվի `main` ֆունկցիայի համարժեքը)։ Վերցնել հրամանային տողում տրված թիվը և ստանալ դրա _թվային_ արժեքը։ Հաշվել ու տպել ֆակտորիալի արժեքը։ Եվ վերջապես, թարգմանել ու կատարել ծրագիրը։

Հրամանային տողի պարամետրերը ստանալու համար պիտի օգտագործել `System.Environment` մոդուլի `getArgs` ֆունկցիան։ Օրինակ, հետևյալ ծրագիրը տպում է հրամանային տողում տրված արգումենտների ցուցակը։

```
import System.Environment

main :: IO ()
main = do 
    args <- getArgs
    print args
```
